<html>
	<head>
		<meta charset="utf-8">
		<!-- タイトル -->
		<title>発注伝票</title>
	</head>
	<body>
		<!-- ウィンドウサイズを取得しそれに幅を合わせるdivタグcontainer -->
		<div id = "container">
			<!-- コンテンツ領域となるdivタグmain -->
			<div class = "main">
				<!-- JavaScriptのコードを記述 -->
				<script type='text/javascript'>
			//テキストボックス等の表示、非表示を切り替えて、非表示ならテキストボックス等
			//の高さ分リストの高さを取る
			//読み込み後
			$(document).ready(function(){
				//ボタンが押されたら一度だけ計算を行う
				$('.page:first .main h1').one('click', function(){
					//リストの高さを取得
					listHeight = $('.page:first .ui-jqgrid-bdiv').height();
					//全てのテキストボックスが取っている高さを格納する変数textBoxsHeight
					textBoxsHeight = 0;
					//each関数で高さを取っている全てのテキストボックスの高さを合計する
					$('.page:first .line').each(function(){
						//テキストボックスの高さをtextBoxsHeightに加える
						textBoxsHeight += $(this).outerHeight();
					});
					//テキストボックス等を非表示にした際にリストが取る高さを変数
					//newListHeightに格納する
					newListHeight = listHeight + textBoxsHeight;
				});
				
				$('.page:first .main h1').click(function(){
				// 引数には開閉する速度を指定します
				var divs = 0;
						
				//リストのみ表示されている状態であれば
				if($('.page:first .ui-jqgrid-bdiv').height() != listHeight){
					//リストの高さを戻す
					$('.page:first .list').setGridHeight(listHeight);
				}
				$('.page:first .figs > div').not('.wrap-list').slideToggle('slow', function(){
					//divsをカウントアップしていく
					divs++;
					//最後の処理であれば
					if(divs >= $('.page:first .figs > div').not('.wrap-list').length){
						//テキストボックス等が表示いなければ
						if($(this).css('display') == 'none'){
							//リストの高さをのばす
							$('.page:first .list').setGridHeight(newListHeight);
							divs = 0;	//divsの値をリセット
						}
					}
				});
				$('.parallel-text.two-tb input.textbox_S').css('width', '25%');
			});
			$('#tab-container').easytabs({
				//アニメーション後にグラフのリサイズ処理が行われるため、不恰好
				//になることからアニメーションを切る。
				animate: false,		
				updateHash: false	//タブ選択時にアドレスバーにタブのID名が付かないようにする
			});
		});
			
		//JavaScriptのコード記述を終える
		</script>
				<!-- 見出し部を開始 -->
				<div id="header" class="clearfix">
					<!-- ヘッダーのタイトル部分 -->
					<!-- 改行によるインライン要素同士の空白をなくすため、閉括弧を次の行の頭に記述する -->
					<div id="header-title" >
						<!-- このページの要旨 -->
						<h1>発注伝票</h1 >
						<!-- ヘッダーのタイトル部分を閉じる -->
					</div >
					<!-- ヘッダーのボタン群 -->
					<div id="header-buttons" class="variable-height" >
						<span id="disp"></span >
						<!-- 閉じるボタン -->
						<button class=" button close-button" value="戻る" name="fig1"></button>
						<!-- リンクのリストダイアログを出すボタン -->
						<button class="button setting-button"></button>
						<!-- ヘッダーのボタン群を閉じる -->
					</div >
					<!-- ヘッダー部分を終える -->
				</div>
				<!-- fig3独自の記述を開始 -->
				<div id = "fig3" class="figs clearfix">
					<div id="tab-container">
						<!-- タブメニュー -->
						<ul>
							<!-- タブメニューのボタン5項目 -->
							<li id="default">
								<a href="#purchase_bill">発注タブ</a>
							</li>
							<!-- タブメニューを閉じる -->
						</ul>
						<!-- タブパネル -->
						<div class="panel-container">
							<div id="purchase_bill" class="label_max2">
								<!-- 検索機能 -->
								<div class="line half_line parallel-text variable-height left">
									<!-- ラベル -->
									<label for="search-list">検索</label>
									<!-- テキストボックス -->
									<input type="text" class="sort-list textbox_S" name="search-list" />
									<!-- 検索ボタン -->
									<button type="button" name="on-search" id="on_search" class="button on-search" value="検索">検索 
									</button>
								</div>
								<!-- 期間を指定してのレコード絞り込み機能 -->
								<div class="half_line parallel-text two-tb variable-height right">
									<!-- ラベル -->
									<label for="filter-list">期間</label>
									<!-- 開始日付選択のテキストボックスの外枠 -->
									<span class="date filter-list filter-list-after">
										<!-- 開始日付選択のテキストボックス。クリックすることでカレンダーが表示される -->
										<input type="text" class="date filter-list filter-list-after textbox_S" id="filter-list-after" name="filter-list-after" value="2013/11/28" />
									</span>
									<!-- 〜のラベル -->
									<label class="from-to">&#12316;</label>
									<!-- 終了日付選択のテキストボックスの外枠 -->
									<span class=" filter-list filter-list-before">
										<!-- 終了日付選択のテキストボックス。クリックすることでカレンダーが表示される -->
										<input type="text" class="date filter-list filter-list-before textbox_S " id="filter-list-before" name="filter-list-before" value="2014/11/28" />
									</span>
								</div>
								<!-- リスト直前の行。 -->
								<div class="line before_list_line variable-height">
									<!-- リスト編集ボタン群 -->
									<div class="edit_buttons left clearfix">
										<!-- 登録ボタン -->
										<button type="button" name="fig3-1" id="add_button" class="button add-button callpage">登 
										</button>
									</div>
									<!-- PDF出力ボタン群 -->
									<div class="edit_buttons right has-two-str-button variable-height clearfix">
										<!-- ボタン群右半分 -->
										<span class="two-str-button clearfix">
											<!-- 発送指示書ボタン -->
											<button type="button" name="fig3-1" id="hassou" class="button normal-button" value="発指">発指 
											</button >
											<!-- 納品書ボタン -->
											<button type="button" name="fig3-1" id="nouhin" class="button normal-button" value="納">納 
											</button >
										</span >
										<!-- ボタン群左半分 -->
										<span class="two-str-button clearfix" >
											<!-- 発注書ボタン -->
											<button type="button" name="fig3-1" id="hacchuu" class="button normal-button" value="要発">要発 
											</button >
											<!-- 注文書ボタン -->
											<button type="button" name="fig3-1" id="chuumon" class="button normal-button" value="注">注 
											</button >
										</span >
									</div >
								</div >
								<!-- リストを囲んでレイアウト崩れを防止するためのタグ -->
								<div class="wrap-list clearfix">
									<!-- JQ Gridによりリストを形成するtableタグ -->
									<table id="fig3-list" class="list clearfix"></table>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>