<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>取引先登録・編集</title>
<link href="css/borgstyle.css" rel="stylesheet" type="text/css">
<!--link href="css/jquery-ui-1.10.4.custom.min.css" rel="stylesheet" type="text/css"-->
<link href="css/pqgrid.min.css" rel="stylesheet" type="text/css">

<script type="text/javascript" src="js/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="js/main.js"></script>
<!--script language="javascript" type="text/javascript" src="js/jquery-ui-1.10.4.custom.min.js" charset="utf-8"></script-->
<script language="javascript" type="text/javascript" src="js/jquery-ui-i18n.js" charset="utf-8"></script>
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/themes/base/jquery-ui.css" />
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script>

<!--[if lt IE 9]>
    <script language="javascript" type="text/javascript" src="js/excanvas.min.js"></script>
<![endif]-->
<script language="javascript" type="text/javascript" src="js/jquery.jqplot.min.js"></script>
<link rel="stylesheet" type="text/css" href="css/jquery.jqplot.min.css" />
<script language="javascript" type="text/javascript" href="js/jqplot.categoryAxisRenderer.min.js"></script>

<link href="css/pqgrid.min.css" rel="stylesheet" type="text/css">
<script language="javascript" type="text/javascript" src="js/pqgrid.min.js"></script>
<script language="javascript" type="text/javascript" src="js/rainbow.min.js"></script>
</head>
<body>
<div id = "container">
<div class = "main">
        <!-- リストのプラグインJQ Gridを読み込む -->
        <script src="js/jquery.jqGrid.min.js"></script>
        <!-- JQ Gridの日本語訳ファイル -->
        <script type="text/javascript" src="js/grid.locale-en.js"></script>
        <!-- 表のプラグインJQ Grid -->
        <script type="text/javascript" src="js/jquery.jqGrid.min.js"></script>
        <!-- JQ Gridでセルの編集を可能にするプラグイン -->
        <script type="text/javascript" src="js/grid.celledit.js"></script>
        <!-- リストを操作するJS -->
        <script type="text/javascript" src="js/grid.js"></script>
        <!-- リストを操作するJS -->
        <script type="text/javascript" src="js/pulldown.js"></script>
		<script type='text/javascript'>
			loadList('fig4-1');				//リストを呼び出す
			gridResize();					//幅を調整する
			wrapPulldown();					//プルダウンメニューを作る
			setCalendar();					//カレンダーを配置する
			setButtons();					//ボタンを配置			
			$( ".page:first .pulldown-menu" ).combobox({ appendTo: "#container" });	//プルダウンメニューをコンボボックスに
	//テキストボックス等の表示、非表示を切り替えて、非表示ならテキストボックス等
	//の高さ分リストの高さを取る
	//読み込み後
	$(document).ready(function(){
		//ボタンが押されたら一度だけ計算を行う
		$('.page:first .main h1').one('click', function(){
			//リストの高さを取得
			listHeight = $('.page:first .ui-jqgrid-bdiv').height();
			//全てのテキストボックスが取っている高さを格納する変数textBoxsHeight
			textBoxsHeight = 0;
			//each関数で高さを取っている全てのテキストボックスの高さを合計する
			$('.page:first .line').each(function(){
				//テキストボックスの高さをtextBoxsHeightに加える
				textBoxsHeight += $(this).outerHeight();
			});
			//テキストボックス等を非表示にした際にリストが取る高さを変数
			//newListHeightに格納する
			newListHeight = listHeight + textBoxsHeight;
		});
		
		$('.page:first .main h1').click(function(){
		// 引数には開閉する速度を指定します
		var divs = 0;
		
		//リストのみ表示されている状態であれば
		if($('.page:first .ui-jqgrid-bdiv').height() != listHeight){
		//リストの高さを戻す
			$('.page:first .list').setGridHeight(listHeight);
		}
		$('.page:first .figs > div').not('.wrap-list').slideToggle('slow', function(){
			//divsをカウントアップしていく
			divs++;
			//最後の処理であれば
			if(divs >= $('.page:first .figs > div').not('.wrap-list').length){
				//テキストボックス等が表示いなければ
				if($(this).css('display') == 'none'){
					//リストの高さをのばす
					$('.page:first .list').setGridHeight(newListHeight);
					divs = 0;	//divsの値をリセット
				}
			}
		});
	  });
	});
</script>
<!-- 見出し部を開始 -->
<div id="header" class="clearfix">
	<!-- ヘッダーのタイトル部分 -->
	<div id="header-title"
    	><!-- このページの要旨 --><h1>取引先登録・編集</h1
        ><!-- ヘッダーのタイトル部分を閉じる --></div
    ><!-- ヘッダーのボタン群 --><div id="header-buttons"class="variable-height" class="half_line"
    	><!-- 閉じるボタン --><button class="backbutton button close-button" value="戻る" name="fig1" /
        ><!-- リンクのリストダイアログを出すボタン --><button class="button setting-button" /
    ><!-- ヘッダーのボタン群を閉じる --></div>
<!-- ヘッダー部分を終える -->
</div>
<div id = "fig4-1" class="figs">
<div class="line half_line parallel-text variable-height left">
  <label for="textfield">日付</label>
  <input type="text" name="date" id="date" class="textbox_S date default_textbox" readonly>
  </div>
  <div class="half_line parallel-text variable-height right">
  <label for="textfield2">更新日</label>
  <input type="text" name="update" id="update" class="textbox_S date default_textbox" readonly>
  </div>

<div class="line half_line parallel-text variable-height left">
  <label for="textfield3">担当者</label>
  <select name="charger" id="charger"  class="textbox_S pulldown-menu person default_textbox" >
    	<option value="">入力、または選択してください</option>
	</select>
</div>
<div class="half_line parallel-text variable-height right">
<label for="textfield4">作成者</label>
<select name="writer" id="writer"  class="textbox_S pulldown-menu person default_textbox" >
    	<option value="">入力、または選択してください</option>
</select>
</div>
<div class="line a_line single-line-text variable-height">
    <label for="textfield9">取引先名</label>
    <select name="account_name" id="account_name"  class="textbox_L pulldown-menu customer default_textbox">
    	<option value="">入力、または選択してください</option>
    </select>
</div>

<div class="line a_line margin_top clearfix variable-height">

<div class="left space_width_syubetu">
    <label>種別</label>
    </div>
    <!-- 顧客種別選択 -->
<div class="left space_width customer_type_select">
  顧客<input type="checkbox" name="customertype" class="checkbox" value="customer">
</div>
  <div class="left space_width">
	製造<input type="checkbox" name="customertype" class="checkbox" value="manufacturer">
  </div>
  <div class="left space_width">
	加工<input type="checkbox" name="customertype" class="checkbox" value="processor">
  </div>
  <div class="left space_width">
	倉庫<input type="checkbox" name="customertype" class="checkbox" value="warehouse">
  </div> 
   <div class="left space_width" name="customertype">
	代理店<input type="checkbox" name="customertype" class="checkbox" value="agency">
  </div>
</div>
  <div class="line a_line before_list_line variable-height">
  	<label for="textfield3" class="left">取引一覧</label>
  	<button name="summary-button" class="button right margin-bottom summary-button" id="summary-button" value="まとめ">
  </div>
<!-- リストを包むタグ。リストが他のfloat要素に回り込むのを阻止する -->
<div class="wrap-list">
<!-- JQ Gridによりリストを形成するtableタグ -->
<table id="fig4-1-list" class="list"></table>
</div>
</div>
</div>
</div>
</body>
</html>